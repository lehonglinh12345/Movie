{% extends "myapp/layout/base.html" %}
{% load static %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <!-- Ph·∫ßn hi·ªÉn th·ªã phim -->
        <div class="col-md-8">
            <div class="card shadow-lg border-0 rounded">
                <div class="position-relative">
                    <!-- ·∫¢nh b√¨a -->
                    <img id="moviePoster" src="{{ movie.anh_bia.url }}" class="card-img-top rounded-top img-fluid" style="height: 500px; object-fit: cover;" alt="{{ movie.ten_phim }}">
                    
                    <!-- Player video -->
                    <div id="videoContainer" class="d-none text-center p-2">
                        {% if movie.video_url %}
                            <iframe class="rounded" width="100%" height="500"
                                src="https://www.youtube.com/embed/{{ movie.video_url|slice:'17:' }}"
                                frameborder="0" allowfullscreen>
                            </iframe>
                        {% else %}
                            <p class="text-muted fw-bold">Video kh√¥ng kh·∫£ d·ª•ng.</p>
                        {% endif %}
                    </div>
                </div>

                <div class="card-body text-center">
                    <h2 class="fw-bold text-danger">{{ movie.ten_phim }}</h2>
                    <p class="text-muted">‚è≥ Th·ªùi l∆∞·ª£ng: <strong>{{ movie.thoi_luong }}</strong> ph√∫t</p>
                    
                    <!-- N√∫t xem phim -->
                    <button class="btn btn-danger fw-bold px-4 py-2 rounded-pill shadow-sm" onclick="playMovie()">
                        ‚ñ∂Ô∏è Xem phim ngay
                    </button>
                </div>
            </div>

            <!-- M√¥ t·∫£ phim -->
            <div class="mt-4 p-3  ">
                <h4 class="mt-4 fw-bold">üìå M√¥ T·∫£</h4>
                <p class="text-muted">{{ movie.mo_ta }}</p>
            </div>
        </div>

        <!-- Danh s√°ch phim y√™u th√≠ch -->
        <div class="col-md-4">
            <div class="bg-dark text-white p-4 rounded shadow-lg">
                <h3 class="text-center fw-bold mb-4">üî• Phim ƒê∆∞·ª£c Y√™u Th√≠ch</h3>
                <div class="list-group">
                    <a href="#" class="list-group-item list-group-item-action d-flex align-items-center bg-transparent border-0 text-white">
                        <img src="https://cdn.myanimelist.net/images/anime/10/47347.jpg" alt="Attack on Titan" class="w-25 rounded me-3 shadow-sm">
                        <span>ƒê·∫°i chi·∫øn ng∆∞·ªùi kh·ªïng l·ªì</span>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex align-items-center bg-transparent border-0 text-white">
                        <img src="{% static 'myapp/img/natra.jpg' %}" alt="Natra" class="w-25 rounded me-3 shadow-sm">
                        <span>Natra ma ƒë·ªìng gi√°ng th·∫ø</span>
                    </a>
                    <a href="#" class="list-group-item list-group-item-action d-flex align-items-center bg-transparent border-0 text-white">
                        <img src="{% static 'myapp/img/thanhguom.jpg' %}" alt="Thanh g∆∞∆°m" class="w-25 rounded me-3 shadow-sm">
                        <span>Thanh g∆∞∆°m di·ªát qu·ª∑: L√†m th·ª£ r√®n</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Ph·∫ßn b√¨nh lu·∫≠n -->
    <div class="mt-4 bg-light p-3 rounded shadow-sm">
        <h5 class="fw-bold">üí¨ B√¨nh lu·∫≠n</h5>
        <p class="text-muted">üìù Ch∆∞a c√≥ b√¨nh lu·∫≠n n√†o. H√£y l√† ng∆∞·ªùi ƒë·∫ßu ti√™n!</p>
    </div>
</div>


<script>
    function playMovie() {
        document.getElementById("moviePoster").classList.add("d-none");
        document.getElementById("videoContainer").classList.remove("d-none");
    }
</script>

{% include 'myapp/layout/footer.html' %}
{% endblock %}
